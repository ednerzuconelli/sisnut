<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/webflow
    http://www.springframework.org/schema/webflow/spring-webflow-2.4.xsd"
    start-state="inicio" parent="root">
    
    <persistence-context/>

    <view-state id="inicio" view="index.xhtml" >
      	<transition on="produto" to="listProduto">
      	   
 		</transition>
 		<transition on="tiporefeicao" to="cadastratiporefeicao"> </transition>   
 		
    
    </view-state>
    
    <view-state id="listProduto" view="list_produto.xhtml" >
      	<on-entry >
      		<evaluate expression="produtoControle.findAll()"  result="flowScope.produtoBean"/>
      	</on-entry>
      	<transition on="produto" to="cadastroProduto"/>
    
 		<transition on="delete" to="listProduto">
      		<evaluate expression="produtoControle.deleteProduto(flowScope.produtoBean,  messageContext)"/>
 		</transition>
    </view-state>
    
    <view-state id="cadastroProduto" view="cadastro_produto.xhtml"  >
      	<on-entry >
        	<evaluate expression="produtoControle.newProdutoBean()" result="flowScope.produtoBean" />
      	</on-entry>
      	<transition on="salvar" to="listProduto">
      		<evaluate expression="produtoControle.salveProduto(flowScope.produtoBean,  messageContext)"/>
 		</transition>  
    </view-state>
    
    <view-state id="cadastratiporefeicao" view="cadastro_tiporefeicao.xhtml"  >
      	<on-entry >
        	<evaluate expression="tiporefeicaoControle.newTipoRefeicaoBean()" result="flowScope.tiporefeicaoBean" />
      	</on-entry>
      	<transition on="salvar" to="listProduto">
      		<evaluate expression="tiporefeicaoControle.salveTipoRefeicao(flowScope.tiporefeicaoBean,  messageContext)"/>
 		</transition>  
    </view-state>
    

</flow>